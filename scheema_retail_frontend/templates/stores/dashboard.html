{% extends '../base.html' %}
{% block title %}
    Sherry Retail | Home
{% endblock %}
{% block content %}
    {% comment %} <h2>Your Orders</h2>
    <ul>
        {% for order in orders %}
        <li>
            Order ID: {{ order.id }} - Total: ${{ order.total_price }} - Date: {{ order.created_at }}
            <ul>
                {% for item in order.items.all %}
                <li>{{ item.product.title }} x {{ item.quantity }} = ${{ item.price }}</li>
                {% endfor %}
            </ul>
        </li>
        {% endfor %}
    </ul> {% endcomment %}
    <section class="py-24 relative">
        <div class="w-full max-w-7xl mx-auto px-4 md:px-8">
            <h2 class="font-manrope font-extrabold text-3xl lead-10 text-black mb-9">Order History</h2>
            {% for order in orders %}
                <div class="mt-7 border border-gray-300 pt-9">
                    <div class="flex max-md:flex-col items-center justify-between px-3 md:px-11">
                        <div class="data">
                            <p class="font-medium text-lg leading-8 text-black whitespace-nowrap">Order : #{{ order.id }}</p>
                            <p class="font-medium text-lg leading-8 text-black mt-3 whitespace-nowrap">Order Created at : {{ order.created_at }}</p>
                        </div>
                        {% comment %} <div class="flex items-center gap-3 max-md:mt-5">
                            <button
                                class="rounded-full px-7 py-3 bg-white text-gray-900 border border-gray-300 font-semibold text-sm shadow-sm shadow-transparent transition-all duration-500 hover:shadow-gray-200 hover:bg-gray-50 hover:border-gray-400">Show
                                Invoice</button>
                            <button
                                class="rounded-full px-7 py-3 bg-indigo-600 shadow-sm shadow-transparent text-white font-semibold text-sm transition-all duration-500 hover:shadow-indigo-400 hover:bg-indigo-700">Buy
                                Now</button>

                        </div> {% endcomment %}
                    </div>
                    {% for item in order.items.all %}
                        <svg class="my-9 w-full" xmlns="http://www.w3.org/2000/svg" width="1216" height="2" viewBox="0 0 1216 2"
                            fill="none">
                            <path d="M0 1H1216" stroke="#D1D5DB" />
                        </svg>
                        <div class="flex max-lg:flex-col items-center gap-8 lg:gap-24 px-3 md:px-11">
                            <div class="grid grid-cols-4 w-full">
                                <div class="col-span-4 sm:col-span-1">
                                    <img src="{{ item.image }}" alt="{{ item.product.title }}" style="max-width: 35%"class="max-sm:mx-auto object-cover">
                                </div>
                                <div
                                    class="col-span-4 sm:col-span-3 max-sm:mt-4 sm:pl-8 flex flex-col justify-center max-sm:items-center">
                                    <h6 class="font-manrope font-semibold text-2xl leading-9 text-black mb-3 whitespace-nowrap">
                                        {{ item.product.title }}</h6>
                                        <p class="font-normal text-lg leading-8 text-gray-500 whitespace-wrap">
                                            {{ item.product.description }}</p>
                                    <div class="flex items-center max-sm:flex-col gap-x-10 gap-y-3 justify-between">
                                        <span class="font-normal text-lg leading-8 text-gray-500 whitespace-nowrap">Qty:
                                            {{ item.quantity }}</span>
                                        <p class="font-semibold text-xl leading-8 text-black whitespace-nowrap">Price ${{ item.price }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                    <svg class="mt-9 w-full" xmlns="http://www.w3.org/2000/svg" width="1216" height="2" viewBox="0 0 1216 2"
                        fill="none">
                        <path d="M0 1H1216" stroke="#D1D5DB" />
                    </svg>

                    <div class="px-3 md:px-11 flex items-center justify-between max-sm:flex-col-reverse">
                        <div class="flex max-sm:flex-col-reverse items-center">
                            {% comment %} <button
                                class="flex items-center gap-3 py-10 pr-8 sm:border-r border-gray-300 font-normal text-xl leading-8 text-gray-500 group transition-all duration-500 hover:text-indigo-600">
                                <svg width="40" height="41" viewBox="0 0 40 41" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path class="stroke-gray-600 transition-all duration-500 group-hover:stroke-indigo-600"
                                        d="M14.0261 14.7259L25.5755 26.2753M14.0261 26.2753L25.5755 14.7259" stroke=""
                                        stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                cancel order
                            </button> {% endcomment %}
                            <p class="font-normal text-xl leading-8 text-gray-500 sm:pl-8">Payment Is Succesfull</p>
                        </div>
                        <p class="font-medium text-xl leading-8 text-black max-sm:py-4"> <span class="text-gray-500">Total
                                Price: </span> &nbsp;${{order.total_price}}</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    </section>
{% endblock %}
